<!DOCTYPE html>
<html>
<!-- bright sky -->

<head>
    <title>Essence</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
    <!-- Icon from "https://www.flaticon.com/authors/eucalyp" -->
    <link rel='shortcut icon' type="image/x-icon" href='../assets/images/meditations.png'>


    <!-- Import javascript files -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.2/moment.min.js"></script>

    <!-- Scrollify -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollify/1.0.19/jquery.scrollify.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">

    <!-- CSS -->
    <style>
        html {
        background-size: cover;
        background-repeat: no-repeat;
        width: 100%;
    }
    
    body {
        
        height: 100%;
        background: linear-gradient(#97b8ecf3, #b7ddee);
        margin: auto;
        width: 100%;
        justify-content: center;
        font-family: 'Montserrat', 'sans-serif';

    }

     #arrow {
        display: block;
        margin:auto;
        transform: translateY(-475%);
        filter: invert(100%);
        opacity: .9;
    }

    #main {
        transition: margin-left .5s;
    }

    header {
        position: sticky;
        top: 2.5%;
        width: 96%;
        margin: auto;
        background: transparent;
        color: #f1f1f1;
        z-index: 5;
    }

    h2 {
        text-align: center;
        font-size: 3vw;
        margin-bottom: 6vh;
    }

    #yoga h3 {
        text-align: center;

    }
    
    nav {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: whitesmoke;
        overflow-x: hidden;
        transition: .5s;
        padding-top: 100px;
    }
    
    nav a {
        padding: 20px 10px 10px 42px;
        text-decoration: none;
        font-size: 1.62vw;
        color: black;
        display: block;
        transition: 0.28s;
        
    }
    
    /* Color of nav text upon hover */
    nav a:hover {
        color: rgb(94, 55, 138);
    }
    
    .closebtn {
        position: absolute;
        top: 20px;
        right: 25px;
        font-size: 46px;
        margin-left: 0px;
        cursor: pointer;
        
    }
    
    .openbtn {
        font-size: 55px;
        cursor: pointer;
        opacity: .95;
        filter: drop-shadow(1px 1px .28rem rgba(0, 0, 0, 0.212));
    }

    .youtube {
        padding-top: 12px;
        filter: invert(100%);
        opacity: .85;
        float: right;
    }

     #logo {
        position: absolute;
        height:3vw;
        width:3vw;
        margin-left: 38%;
        margin-top: 160%;
        opacity: .7;
    }

    #hello {
        font-size: 8vw;
        width: 100%;
        text-align: center;
        letter-spacing: 30px;
        line-height: 0;
        color: white;
        opacity: .90;
        padding-top: 14vh ;
        padding-bottom: 2vh;
        width: 78%;
        margin: auto;
    }
    
    #time {
        padding-bottom: 16vw;
        width: 78%;
        margin: auto;
    }

    .section{
        /* padding: 30% 0; */
        padding-top: 14vh;
        padding-bottom: 16vw;
        width: 78%;
        margin: auto;

    }

    .flexbox{
        display: flex;
        justify-content: space-evenly;
        width: 100%;
    }

    /* quote container */
    .container {
        margin: auto;
        border-color: white;
        border-style: solid;
        border-width: 3.5px;
        border-radius: 25px;
        width: 90%;

    }

    #quote {
        height: 80%;
        width: 90%;
        margin: auto;
        font-size: 2.2vw;
        vertical-align: middle;

    }

    #quote p {
        margin-top: 8%;
        line-height: 1.3;
    }

    .poses {
        height: 18vw;
        width: 18vw;
        border-style: solid;
        border-width: 3.5px;
        border-radius: 35px;
        border-color: white;
        filter: drop-shadow(9px 5px 0.75rem rgba(0, 0, 0, 0.582));
    }

    form {
        width: 80%;
        margin: auto;
        transform: translateY(35%);
        text-align: center;
        font-size: 1.5vw;
        height: 22vh;
        border-width: 3.5px;
        border-radius: 35px;
        border-style: solid;
        border-color: white;
    }

    label {
        margin-right: 1.5%;
    }

    select, input {
        font-family: 'Montserrat', 'sans-serif';
        font-size: 1vw;
        margin-top: 9vh;
        margin-left:5px;
        height: 2vw;
        border-radius: 5px;
        border-color: transparent;
        filter: drop-shadow(1px 1px .28rem rgba(0, 0, 0, 0.212));

    }

    input:hover {
        background-color: #9dbff7f3;
        cursor: pointer;
    }
    
    select:hover {
        cursor: pointer;
    }

    footer {
        font-size: .8vw;;
        position: static;
        left: 0;
        bottom: 15px;
        width: 100%;
        opacity: .55;
        background-color: none;
        color: black;
        text-align: center;
        z-index: -1;
    }
    /* viewing from a phone */
    @media screen and (max-height: 450px) {
    nav {padding-top: 15px;}
    nav a {font-size: 18px;}
    }
    </style>

    <!-- JAVA SCRIPT -->
    <script>
        // Open the side nav bar on click.
        // Max width of 14%
        function openNav() {
            document.getElementById("nav").style.width = "14%";
            document.getElementById("main").style.marginLeft = "14%";
        }

        // Close the side nav bar on click
        function closeNav() {
            document.getElementById("nav").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";
        }

        // Youtube video embed code borrowed from:
        // https://sarmadgardezi.com/blog/youtube/how-to-embed-youtube-video-as-an-audio-player-in-website/1000/
        // Note: code has been modified to fit our needs
        function onYouTubeIframeAPIReady() {
            var e = document.getElementById("youtube-audio"),
                t = document.createElement("img"); t.setAttribute("id", "youtube-icon"),
                    t.style.cssText = "cursor:pointer;cursor:hand",
                    e.appendChild(t);

            var a = document.createElement("div");
            a.setAttribute("id", "youtube-player"),
                e.appendChild(a);
            // 1st png is a play icon, 2nd is a stop icon
            // pictures hosted using imgur
            // var o=function(e){var a=e?"IDzX9gL.png":"quyUPXN.png";
            // t.setAttribute("src","https://i.imgur.com/"+a)};
            var o = function (e) {
                var a = e ? "/assets/images/play.png" : "/assets/images/pause.png";
                t.setAttribute("src", a)
            };
            e.onclick = function () {
                r.getPlayerState() === YT.PlayerState.PLAYING ||
                    r.getPlayerState() === YT.PlayerState.BUFFERING ? (
                        r.pauseVideo(), o(!1)) :
                    (r.playVideo(), o(!0))
            }; var r = new YT.Player("youtube-player",
                {
                    height: "0", width: "0", videoId: e.dataset.video, playerVars:
                        { autoplay: e.dataset.autoplay, loop: e.dataset.loop }, events:
                    {
                        onReady: function (e) {
                            r.setPlaybackQuality("small"),
                                o(r.getPlayerState() !== YT.PlayerState.CUED)
                        },
                        onStateChange: function (e) { e.data === YT.PlayerState.ENDED && o(!1) }
                    }
                })
        }

        // jQuery: select form from 1 to 31 days of the month
        function selectDay() {
            var select = '';
            for (num = 1; num <= 31; num++) {
                select += '<option val=' + num + '>' + num + '</option>';
            }
            $('#day').html(select);
        }

        // validate birthday for horoscope
        function validateForm(form) {
            var month = form['month'].value;
            var day = form['day'].value;
            var days30 = [4, 6, 9, 11];
            var bool = false;
            if (month == 2 && day > 29) {
                alert("Oops! The date you entered is invalid, please try again.")
            } else if (!days30.includes(month) && day > 30) {
                alert("Oops! The month you entered only has 30 days, please try again.")
            } else {
                bool = true;
            }
            return bool;
        }
    </script>

    <!-- CLOCK CSS modified from https://codepen.io/eehayman/pen/jVPKpN-->
    <style>
        .clock-day:before {
        content: var(--timer-day);
    }

    .clock-hours:before {
        content: var(--timer-hours);
    }

    .clock-minutes:before {
        content: var(--timer-minutes);
    }

    .clock-seconds:before {
        content: var(--timer-seconds);
    }

    .clock-container {
        margin: auto;
        width: 40vw;
        height: 60px;
        font-family: 'Montserrat', 'sans-serif';
        background-color: transparent;
        border-radius: 15px;
        padding: 60px 20px;
        /* box-shadow: 1px 1px 5px rgba(189, 187, 187, 0.15), 0 1px 10px 2px rgba(0, 0, 0, 0.25); */
        display: flex;
        align-items: center;
        justify-content: center;
        
    }

    .clock-col {
        text-align: center;
        margin-right: 48px;
        margin-left: 26px;
        min-width: 60px;
        position: relative;
        opacity: .85;
    }

    .clock-col:not(:last-child):before,
    .clock-col:not(:last-child):after {
        content: "";
        background-color: rgba(255, 255, 255, 0.329);
        height: 5px;
        width: 5px;
        border-radius: 50%;
        display: block;
        position: absolute;
        right: -42px;
    }

    .clock-col:not(:last-child):before {
        top: 35%;
    }

    .clock-col:not(:last-child):after {
        top: 48%;
    }

    .clock-timer:before {
        color: #fff;
        /* font-size: 4.2rem; */
        font-size: 4.5vw;
        text-transform: uppercase;
    }

    .clock-label {
        color: rgba(255, 255, 255, 0.651);
        text-transform: uppercase;
        /* font-size: .7rem; */
        font-size: 1vw;
        margin-top: 10px;
    }

    @media (max-width: 825px) {
        .clock-container {
            flex-direction: column;
            padding-top: 40px;
            padding-bottom: 40px;
        }

        .clock-col+.clock-col {
            margin-top: 20px;
        }

        .clock-col:before,
        .clock-col:after {
            display: none !important;
        }
    }
</style>

    <!-- CLOCK JAVASCRIPT modified from https://codepen.io/eehayman/pen/jVPKpN-->
    <script>
        document.addEventListener("DOMContentLoaded", () =>
            requestAnimationFrame(updateTime)
        );

        function updateTime() {
            document.documentElement.style.setProperty(
                "--timer-day",
                "'" + moment().format("ddd") + "'"
            );
            document.documentElement.style.setProperty(
                "--timer-hours",
                "'" + moment().format("k") + "'"
            );
            document.documentElement.style.setProperty(
                "--timer-minutes",
                "'" + moment().format("mm") + "'"
            );
            // document.documentElement.style.setProperty(
            //     "--timer-seconds",
            //     "'" + moment().format("ss") + "'"
            // );
            requestAnimationFrame(updateTime);
        }

    </script>

    <!-- SCROLLIFY JQUERY -->
    <script>
        $(function () {
            $.scrollify({
                section: ".scroll",
                sectionName: false,
                interstitialSection: "",
                easing: "easeOutExpo",
                scrollSpeed: 1000,
                offset: 0,
                scrollbars: true,
                standardScrollElements: "",
                setHeights: true,
                overflowScroll: false,
                updateHash: true,
                touchScroll: true,
                before: function () { },
                after: function () { },
                afterResize: function () { },
                afterRender: function () { }
            });
        });
    </script>
    <!-- SCROLLIFY CSS -->
    <style>
        .scroll {
                padding: 0;
                margin:0;
                height: 0px;
            }
        </style>

</head>

<body>
    <header>
        <!-- &#9776; is the unicode for the "triagram for heaven" and &times; is a X -->
        <span class="openbtn" onclick="openNav()">&#9776;</span>
        <div class='youtube'>
            <a>
                <div data-video="hHW1oY26kxQ" data-autoplay="0" data-loop="0" id="youtube-audio"></div>
            </a>
        </div>

        <nav id="nav">
            <!-- Click nav bar link to jump to the section on the html -->
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&#9932;</a>
            <a href="#scroll1">Hello</a>
            <a href="#scroll2">Quote</a>
            <a href="#scroll3">Yoga</a>
            <a href="#scroll4">Horoscope</a>
            <a href="#scroll5">Breathe</a>
            <img id='logo' src="../assets/images/meditation-black.svg">

            <!-- <a href="#about">About</a> -->

            <!-- embedded youtube video/audio -->
            <a>
                <div data-video="hHW1oY26kxQ" data-autoplay="0" data-loop="0" id="youtube-audio"></div>
            </a>
        </nav>
    </header>

    <div id='main'>
        <div class='scroll' id='scroll1'>
            <div id="hello" class='animated fadeIn slow'>
                <h1>Hello</h1>
            </div>
            <!-- clock -->
            <div class='animated slideInUp slow delay-1s'>
                <div id='time'>
                    <div class="clock-container">
                        <div class="clock-col">
                            <p class="clock-day clock-timer">
                            </p>
                            <p class="clock-label">
                                Day
                            </p>
                        </div>
                        <div class="clock-col">
                            <p class="clock-hours clock-timer">
                            </p>
                            <p class="clock-label">
                                Hours
                            </p>
                        </div>
                        <div class="clock-col">
                            <p class="clock-minutes clock-timer">
                            </p>
                            <p class="clock-label">
                                Minutes
                            </p>
                        </div>
                    </div>
                </div>
            </div>
                <div style="transform:translateY(-65%);" class='animated fadeIn slower delay-3s'>
                    <img id='arrow' src="../assets/images/down-arrow.svg">
                </div>
            </div>

            <div class='scroll' id='scroll2'>

                <div id="hrefQuote" class="section">
                    <h2>Inspirational Quote of The Day</h2>
                    <div class='container'>
                        <div id="quote">

                            <p>{% for v in quotedata %}
                                {{v}}<br><br>
                                {% endfor%}
                            </p>

                        </div>
                    </div>
                </div>
                <img id='arrow' src="../assets/images/down-arrow.svg">
            </div>

            <div class='scroll' id='scroll3'>

                <div id="yoga" class='section'>
                    <!-- yoga pose images/names -->
                    <h2>Yoga Poses of The Day</h2>
                    <div class="flexbox">
                        {% for p,data in yogadata.items() %}
                        <div>

                            <img class="poses" src="{{data.image}}" alt="{{data.e_name}}" hspace="28" />
                            <p style="font-size: 1.2vw; text-align: center;">Sanskrit: {{data.s_name}}</p>
                            <p style="font-size: 1.2vw; text-align: center;">English: {{data.e_name}}</p>


                        </div>
                        {% endfor%}

                    </div>
                </div>
                <img style='display: block; margin:auto;transform: translateY(-700%); filter: invert(100%);opacity: .9;'
                    src="../assets/images/down-arrow.svg">
            </div>

            <div class='scroll' id='scroll4'>

                <div id="horoscope" class="section">
                    <h2>Horoscope</h2>
                    <!-- form to select month/date of birth validated by .js file -->
                    <!-- "/result" is the page that is created from the user input -->
                    <form id='DOB' name=DOB method="get" action="/result" onsubmit="return validateForm(this);">
                        <label for="sunsign">When is your birthday? </label>
                        <select name="month" id="month" required>
                            <option value="1">January</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                        <!-- 31 day selector function defined in .js file -->
                        <select name="day" id="day" required>
                            <script type='text/javascript'>
                                selectDay();
                            </script>
                        </select>
                        <input id='submitForm' type="submit" value="Submit" />
                    </form>
                </div>
                <img style="display: block; margin:auto; filter: invert(100%); opacity: 1; transform: translateY(115%);"
                    src="../assets/images/down-arrow.svg">
            </div>
            <!-- Manipulated code from https://css-tricks.com/recreating-apple-watch-breathe-app-animation/ -->
            <style>
                .breathingExercise {
                    /* height: 155px;
                    width: 155px; */
                    height: 11vw;
                    width: 11vw;
                    animation: pulse 4s cubic-bezier(0.5, 0, 0.5, 1) alternate infinite;
                    margin: auto;
                }

                .circle {
                    /* height: 155px;
                    width: 155px; */
                    height: 11vw;
                    width: 11vw;
                    border-radius: 50%;
                    position: absolute;
                    mix-blend-mode: screen;
                    transform: translate(0, 0);
                    animation: center 6s infinite;
                }

                .circle:nth-child(odd) {
                    /* background: #61bea2; */
                    background: linear-gradient(#97b8ecf3, #b7ddee);
                    filter: drop-shadow(1px 1px .28rem rgba(49, 49, 49, 0.322));



                }

                .circle:nth-child(even) {
                    /* background: #529ca0; */
                    background: linear-gradient(#b7ddee, #97b8ecf3);
                    filter: drop-shadow(1px 1px .28rem rgba(49, 49, 49, 0.322));


                }

                .circle:nth-child(1) {
                    animation: circle-1 4s ease alternate infinite;
                }

                .circle:nth-child(2) {
                    animation: circle-2 4s ease alternate infinite;
                }

                .circle:nth-child(3) {
                    animation: circle-3 4s ease alternate infinite;
                }

                .circle:nth-child(4) {
                    animation: circle-4 4s ease alternate infinite;
                }

                .circle:nth-child(5) {
                    animation: circle-5 4s ease alternate infinite;
                }

                .circle:nth-child(6) {
                    animation: circle-6 4s ease alternate infinite;
                }

                @keyframes pulse {
                    0% {
                        transform: scale(.15) rotate(180deg);
                    }

                    100% {
                        transform: scale(1);
                    }
                }

                @keyframes circle-1 {
                    0% {
                        transform: translate(0, 0);
                    }

                    100% {
                        transform: translate(-35px, -50px);
                    }
                }

                @keyframes circle-2 {
                    0% {
                        transform: translate(0, 0);
                    }

                    100% {
                        transform: translate(35px, 50px);
                    }
                }

                @keyframes circle-3 {
                    0% {
                        transform: translate(0, 0);
                    }

                    100% {
                        transform: translate(-60px, 0);
                    }
                }

                @keyframes circle-4 {
                    0% {
                        transform: translate(0, 0);
                    }

                    100% {
                        transform: translate(60px, 0);
                    }
                }

                @keyframes circle-5 {
                    0% {
                        transform: translate(0, 0);
                    }

                    100% {
                        transform: translate(-35px, 50px);
                    }
                }

                @keyframes circle-6 {
                    0% {
                        transform: translate(0, 0);
                    }

                    100% {
                        transform: translate(35px, -50px);
                    }
                }
            </style>
            <div class="scroll" id="scroll5">
                <!-- padding-top: 14vh;
                    padding-bottom: 16vw;
                    width: 78%;
                    margin: auto; -->
                <div id='breathe' style="padding-bottom: 6vw; padding-top: 14vh;">
                    <h2 style="margin-bottom: 8.5%;">Breathe</h2>
                    <div class="breathingExercise">
                        <div class="circle"></div>
                        <div class="circle"></div>
                        <div class="circle"></div>
                        <div class="circle"></div>
                        <div class="circle"></div>
                        <div class="circle"></div>
                    </div>
                    <p style="text-align: center; font-size: 1.2vw; margin-top: 5.5%;">Exhale when it shrinks, inhale
                        when
                        it grows.</p>
                </div>
                <footer>
                    <p>
                        &copy Copyright 2018 - Created by Khadijah Jordan and M. Nicole Washington
                        <br /> UW Seattle - HCDE 310 API Project Autumn 2018
                    </p>
                </footer>
            </div>

</body>

</html>